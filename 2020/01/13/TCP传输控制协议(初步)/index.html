<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>TCP:传输控制协议(初步) | LetonLIU的博客</title><meta name="description" content="TCP:传输控制协议(初步)"><meta name="keywords" content><meta name="author" content="WenJingliu"><meta name="copyright" content="WenJingliu"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://yoursite.com/2020/01/13/TCP传输控制协议(初步)/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="TCP:传输控制协议(初步)"><meta name="twitter:description" content="TCP:传输控制协议(初步)"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><meta property="og:type" content="article"><meta property="og:title" content="TCP:传输控制协议(初步)"><meta property="og:url" content="http://yoursite.com/2020/01/13/TCP传输控制协议(初步)/"><meta property="og:site_name" content="LetonLIU的博客"><meta property="og:description" content="TCP:传输控制协议(初步)"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="计算机英语必知必会" href="http://yoursite.com/2020/01/13/计算机英语必知必会/"><link rel="next" title="HTTP抓包" href="http://yoursite.com/2020/01/09/HTTP抓包/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'false',
  highlight_lang: 'true',
  highlight_shrink: 'true',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: undefined,
  copy_copyright_js: false
  
}</script></head><body><canvas class="fireworks"></canvas><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">LetonLIU的博客</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-photo"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="https://lemonliu.oss-cn-beijing.aliyuncs.com/K9b8cReo3z9m.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">37</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">5</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">3</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-photo"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#如何使得信息在通信通道里尽量免于出错"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">如何使得信息在通信通道里尽量免于出错</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#ACK"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">ACK</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#分组窗口和滑动窗口"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">分组窗口和滑动窗口</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#变量窗口：流量控制和拥塞控制"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">变量窗口：流量控制和拥塞控制</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#设置超时重传"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">设置超时重传</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#TCP的服务模型"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">TCP的服务模型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#TCP的可靠性"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">TCP的可靠性</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#SYN"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">SYN</span></a></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#如何使得信息在通信通道里尽量免于出错"><span class="toc-number">1.</span> <span class="toc-text">如何使得信息在通信通道里尽量免于出错</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ACK"><span class="toc-number">2.</span> <span class="toc-text">ACK</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分组窗口和滑动窗口"><span class="toc-number">3.</span> <span class="toc-text">分组窗口和滑动窗口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#变量窗口：流量控制和拥塞控制"><span class="toc-number">4.</span> <span class="toc-text">变量窗口：流量控制和拥塞控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#设置超时重传"><span class="toc-number">5.</span> <span class="toc-text">设置超时重传</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP的服务模型"><span class="toc-number">6.</span> <span class="toc-text">TCP的服务模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP的可靠性"><span class="toc-number">7.</span> <span class="toc-text">TCP的可靠性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SYN"><span class="toc-number">8.</span> <span class="toc-text">SYN</span></a></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png)"><div id="post-info"><div id="post-title"><div class="posttitle">TCP:传输控制协议(初步)</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-01-13<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-01-13</time><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">1.9k</span><span class="post-meta__separator">|</span><span>阅读时长: 5 分钟</span><span class="post-meta__separator">|</span><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h4 id="如何使得信息在通信通道里尽量免于出错"><a href="#如何使得信息在通信通道里尽量免于出错" class="headerlink" title="如何使得信息在通信通道里尽量免于出错"></a>如何使得信息在通信通道里尽量免于出错</h4><ol>
<li>使用<em>差错校正码</em>(基本是添加一些冗余的比特，使得即使某些比特被毁，真实的信息也可以被恢复)</li>
<li>另一种是简单的”尝试重新发送”，直到信息最终被接收，这种方法被称为<em>自动重复请求</em>(Automatic Repeat Request,ARQ),构成了许多通信协议的基础，包括TCP</li>
</ol>
<h4 id="ACK"><a href="#ACK" class="headerlink" title="ACK"></a>ACK</h4><p>接收方给发送方发信号以确定自己已经接收到一个分组，这种方法称为<em>确认</em>(acknowlegement,ACK),最基本的形式是，发送方发送一个分组，然后等待一个ACK，当接收方收到这个分组时，它发送对应的ACK</p>
<p>不加任何措施无法确认ACK的等待时间，所以接收方有可能接收到被传送分组的重复副本，这个问题要使用<em>序列号</em>(sequence number)来处理，基本上，被源端发送时，每个唯一分组都有一个新的序列号，这个序列号由分组自身携带，接收方可以使用这个序列号判断是否见过这个分组，若见过则丢弃它</p>
<p>此时存在的问题：</p>
<ul>
<li>发送方要考虑发送量，且需要指出等待ACK时怎样维持计时器，同时还需要保存每个还没确认的分组的副本已备需要重传</li>
<li>接收方需要区分哪些分组已经收到哪些没有，还需要缓存来维护”次序杂乱的分组”(比预想的分组更先到达)，以及当接收方的数据比发送方的速率慢很多的时候，接收方可能因处理或内存的限制丢掉这些包</li>
<li>中间路由器也有相同的问题，当网络基础设施处理不了收发双方想要的数据发送率时就会丢包</li>
</ul>
<h4 id="分组窗口和滑动窗口"><a href="#分组窗口和滑动窗口" class="headerlink" title="分组窗口和滑动窗口"></a>分组窗口和滑动窗口</h4><p>为了解决上述的问题，假设每个分组有一个序列号开始，定义一个<em>分组窗口</em>作为已被发送方注入但还没完成确认的分组的集合，我们把这个窗口的分组数量称为<em>窗口大小</em>（window size）。</p>
<p><img alt data-src="https://lemonliu.oss-cn-beijing.aliyuncs.com/2bda7964ead39f073a7e45aed1f38d5.jpg" class="lozad"></p>
<p>这个图展示了当前三个分组的窗口，整个窗口大小是3,3号分组已经被发送和确认，所以发送方保存他的副本可以被释放，分组7在发送方已经准备好，但还没被发送，当发送方接受到4的ACK时，分组7就可以被发送了，窗口的这种滑动叫做<em>滑动窗口协议</em>(sliding window)</p>
<p>问题：尽管窗口结构便于记录在发送方和接收方之间流动的数据，但是没有处理窗口应该多大以及接收方或者网络处理不过来发送方的数据率时会发生什么</p>
<h4 id="变量窗口：流量控制和拥塞控制"><a href="#变量窗口：流量控制和拥塞控制" class="headerlink" title="变量窗口：流量控制和拥塞控制"></a>变量窗口：流量控制和拥塞控制</h4><p>在接收方跟不上发送方时，会强制发送方慢下来，这称为<em>流量控制</em>(flow control),流量控制一般有两种方式：</p>
<ol>
<li><em>基于速率</em>(rate-based)流量控制，他是给发送方指定一个速率，这种类型的流量控制最适合于流应用程序</li>
<li><em>基于窗口</em>(window -based)流量控制,使用滑动窗口时最流行的方法，在这种方法里，窗口大小不是固定的，而是允许随时间变动的，接受方在与ACK同一个分组携带一个信息通知发送方窗口的大小，这个方法叫窗口更新(window update),意味着发送方往往在它的窗口滑动到最右端时调整窗口的大小</li>
</ol>
<p>而在发送方和接收方之间可能会有有限内存的路由器，当这种情况出现时，发送方的速率可能超过某个路由器的能力，从而导致丢包，这由一种特殊的称为<em>拥塞控制</em>(congestion control)的流量形式来处理,拥塞控制用于减低发送方的速率让它不至于压垮中间网络</p>
<h4 id="设置超时重传"><a href="#设置超时重传" class="headerlink" title="设置超时重传"></a>设置超时重传</h4><p>基于重传的可靠协议重要的性能问题是，要等待多久才能判定一个分组已丢失并把它重发，这使用<em>往返时间估计</em>(round-trip-time estimation, RTT),选择一组RTT样本取均值</p>
<h4 id="TCP的服务模型"><a href="#TCP的服务模型" class="headerlink" title="TCP的服务模型"></a>TCP的服务模型</h4><p>虽然TCP和UDP使用相同的网络层，但TCP给应用程序提供了一种与UDP完全不同的服务，TCP提供了一种<em>面向连接的</em>(connection-oriented),可靠的字节流服务，面向连接的时使用TCP的两个应用程序必须在他们可交换数据之前通过相互联系来建立一个TCP连接</p>
<p>TCP提供一种抽象的字节流给应用程序，一端给TCP输入字节流，可能分三次，10字节，20字节，50字节写入，但另一端可能会以每次20字节分四次读入，每个端点独立选择读和写的大小，并且TCP不会解读字节的内容，这个字节流的解读取决于连接中的每个端点的应用程序</p>
<h4 id="TCP的可靠性"><a href="#TCP的可靠性" class="headerlink" title="TCP的可靠性"></a>TCP的可靠性</h4><p>TCP必须把一个发送应用程序的字节流转换为一组IP可以携带的分组，这被称为组包(packetization),这些分组包含序列号，该序列号在TCP中实际代表了，每个分组的第一个字节在整个数据流中的字节偏移，而不是分组号，这允许分组在传送中是可变大小的，并允许他们组合，称为重组发包(repacketization),应用程序数据被打散成TCP认为的最佳大小的块来发送。由TCP传给IP 的块称为报文段(segment)</p>
<p>TCP维持了一个强制的校验和，该校验和涉及它的头部，任何相关应用数据和IP头部的所有字段，这是一个端到端的伪头部，它用于检测传送中引入的比特差错</p>
<p>使用序列号，一个TCP接收端可以丢弃重复的报文段和记录杂乱次序到达的报文段</p>
<p><img alt="TCP在IP数据报中的封装" data-src="https://lemonliu.oss-cn-beijing.aliyuncs.com/93ab303ea8b862515a0d36d03df01bc.jpg" class="lozad"></p>
<p>TCP头部紧跟着IP头部，经常是20字节长(不带TCP选项)，带选项的话，TCP头部可达60字节，常见的选项包括最大段大小，时间戳，窗口缩放和选择性ACK</p>
<p><img alt="TCP头部" data-src="https://lemonliu.oss-cn-beijing.aliyuncs.com/1947e1949c2c32132f90bb838ba2aa5.jpg" class="lozad"></p>
<p>TCP头部，他的标准长度是20字节，除非出现选项。<em>头部长度</em>(Header Length)字段以32位字为单位给出头部的大小(最小值是5)。带阴影的字段(确认号，窗口大小以及ECE和ACK)用于与该报文段的发送方关联的相反方向上的数据流。</p>
<p>每个TCP头部包含了源和目的，这两个值与IP头部中的源和目的IP地址一起唯一的标识了每个连接，在TCP术语中，一个IP地址和一个端口的组合被称为一个<em>端点</em>(endpoint)或套接字(socket),每个TCP连接由一对套接字或端点唯一标识</p>
<h4 id="SYN"><a href="#SYN" class="headerlink" title="SYN"></a>SYN</h4><p>当建立一个新连接时，从客户机发送至服务器的第一个报文段的SYN位字段被启用，这样的报文段被称为SYN报文段</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">WenJingliu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/01/13/TCP传输控制协议(初步)/">http://yoursite.com/2020/01/13/TCP传输控制协议(初步)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com">LetonLIU的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2020/01/13/计算机英语必知必会/"><img class="prev_cover lozad" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>计算机英语必知必会</span></div></a></div><div class="next-post pull-right"><a href="/2020/01/09/HTTP抓包/"><img class="next_cover lozad" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>HTTP抓包</span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC80NzIwNC8yMzcwNA=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></div></div><footer><div id="footer"><div class="copyright">&copy;2018 - 2020 By WenJingliu</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function () {
  $('span.katex-display').wrap('<div class="katex-wrap"></div>')
})</script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="/js/nightshift.js"></script><script id="ribbon" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/js/piao.js"></script><script color="0,0,255" opacity="0.7" zindex="-1" count="99" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/js/canvas-nest.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true,"breaks":true,"smartLists":true,"smartypants":true},"log":false});</script></body></html>